---
const { type = "INFO", title } = Astro.props;

const variants = {
    INFO: {
        icon: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",
        color: "text-sky-400",
        bg: "bg-sky-500/5",
        border: "border-sky-500/20",
        label: "Information_Dispatch",
    },
    WARNING: {
        icon: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",
        color: "text-amber-400",
        bg: "bg-amber-500/5",
        border: "border-amber-500/20",
        label: "System_Warning",
    },
    SECURITY: {
        icon: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 00-2 2zm10-10V7a4 4 0 00-8 0v4h8z",
        color: "text-rose-400",
        bg: "bg-rose-500/5",
        border: "border-rose-500/20",
        label: "Security_Protocol",
    },
    PROTOCOL: {
        icon: "M13 10V3L4 14h7v7l9-11h-7z",
        color: "text-emerald-400",
        bg: "bg-emerald-500/5",
        border: "border-emerald-500/20",
        label: "Active_Protocol",
    },
};

const config = variants[type as keyof typeof variants] || variants.INFO;
---

<div
    class={`relative my-8 overflow-hidden rounded-3xl border ${config.border} ${config.bg} p-8 animate-in fade-in slide-in-from-bottom-2`}
>
    <!-- Background Decor -->
    <div class={`absolute top-0 right-0 p-4 opacity-5 ${config.color}`}>
        <svg
            class="w-24 h-24"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                d={config.icon}></path>
        </svg>
    </div>

    <!-- Header HUD -->
    <div class="flex items-center gap-3 mb-4">
        <div
            class={`p-2 rounded-xl bg-white/5 border border-white/10 ${config.color}`}
        >
            <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d={config.icon}></path>
            </svg>
        </div>
        <div>
            <div
                class="text-[10px] font-mono font-bold uppercase tracking-[0.3em] text-slate-500"
            >
                {config.label}
            </div>
            {
                title && (
                    <h5 class="text-sm font-black text-white uppercase tracking-tight">
                        {title}
                    </h5>
                )
            }
        </div>
    </div>

    <!-- Content -->
    <div class="relative z-10 text-slate-300 leading-relaxed prose-p:my-0">
        <slot />
    </div>
</div>
